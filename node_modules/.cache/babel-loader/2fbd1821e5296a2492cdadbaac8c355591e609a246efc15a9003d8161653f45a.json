{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\Login\\\\src\\\\components\\\\Forget.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Form, Toast, Button } from \"react-bootstrap\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport MailOutlineIcon from \"@material-ui/icons/MailOutline\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"../styles.css\";\nimport \"animate.css\";\nconst Forget = () => {\n  _s();\n  const history = useHistory();\n  const [mail, setMail] = useState(\"\");\n  const [status, setStatus] = useState({\n    show: false,\n    msg: \"\",\n    type: \"\"\n  });\n  const Alert = _ref => {\n    let {\n      msg,\n      type\n    } = _ref;\n    return /*#__PURE__*/React.createElement(Toast, {\n      onClose: () => setStatus({\n        show: false,\n        msg: \"\",\n        type: \"\"\n      }),\n      show: status.show,\n      delay: 5000,\n      autohide: true,\n      style: {\n        position: \"fixed\",\n        top: \"20vh\",\n        left: \"50%\",\n        transform: \"translateX(-50%)\",\n        zIndex: \"9999\",\n        minWidth: \"300px\",\n        borderRadius: \"15px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Toast.Header, {\n      style: {\n        background: type === \"darkGreen\" ? \"#28a745\" : \"#dc3545\",\n        color: \"white\",\n        fontWeight: \"bold\",\n        borderTopLeftRadius: \"15px\",\n        borderTopRightRadius: \"15px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 7\n      }\n    }, type === \"darkGreen\" ? \"Success\" : \"Error\"), /*#__PURE__*/React.createElement(Toast.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 7\n      }\n    }, msg));\n  };\n  const handleChange = e => setMail(e.target.value);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!mail) return alert(\"Please enter your email\");\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    try {\n      const res = await axios.post(\"https://foodeazy.herokuapp.com/forget\", {\n        email: mail\n      }, config);\n      setStatus({\n        show: true,\n        msg: res.data.message || res.data,\n        type: \"darkGreen\"\n      });\n\n      // انتقل للصفحة الثانية بعد 3 ثواني\n      setTimeout(() => {\n        history.push(\"/reset-password?email=\".concat(encodeURIComponent(mail)));\n      }, 3000);\n    } catch (e) {\n      var _e$response, _e$response$data, _e$response2;\n      setStatus({\n        show: true,\n        msg: ((_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.message) || ((_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : _e$response2.data) || \"Something went wrong\",\n        type: \"red\"\n      });\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"forget\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, status.show && /*#__PURE__*/React.createElement(Alert, {\n    msg: status.msg,\n    type: status.type,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    style: {\n      marginTop: \"6vh\",\n      fontFamily: \"Mulish\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, \"Forgot your Password?\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(LockIcon, {\n    style: {\n      fontSize: \"1.2rem\",\n      color: \"grey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontFamily: \"Poppins\",\n      fontSize: \"0.95rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, \"Enter your email address and we'll send you a link to reset your password.\")), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formBasicEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    style: {\n      fontFamily: \"Poppins\",\n      fontWeight: \"550\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, \"Email Address \", /*#__PURE__*/React.createElement(MailOutlineIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    style: {\n      width: \"125%\"\n    },\n    placeholder: \"e.g. email@domain.com\",\n    value: mail,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    className: \"btn btn-primary\",\n    variant: \"primary\",\n    type: \"submit\",\n    style: {\n      borderRadius: \"1vh\",\n      textTransform: \"capitalize\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, \"Reset Password\")));\n};\n_s(Forget, \"K1NiX0BgNZo3g8Ha9sR1VfDd4Mk=\", false, function () {\n  return [useHistory];\n});\n_c = Forget;\nexport default Forget;\nvar _c;\n$RefreshReg$(_c, \"Forget\");","map":{"version":3,"names":["React","useState","Form","Toast","Button","LockIcon","MailOutlineIcon","useHistory","axios","Forget","_s","history","mail","setMail","status","setStatus","show","msg","type","Alert","_ref","createElement","onClose","delay","autohide","style","position","top","left","transform","zIndex","minWidth","borderRadius","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Header","background","color","fontWeight","borderTopLeftRadius","borderTopRightRadius","Body","handleChange","e","target","value","handleSubmit","preventDefault","alert","config","headers","res","post","email","data","message","setTimeout","push","concat","encodeURIComponent","_e$response","_e$response$data","_e$response2","response","className","marginTop","fontFamily","fontSize","onSubmit","Group","controlId","Label","Control","width","placeholder","onChange","variant","textTransform","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/Desktop/Login/src/components/Forget.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Form, Toast, Button } from \"react-bootstrap\";\r\nimport LockIcon from \"@material-ui/icons/Lock\";\r\nimport MailOutlineIcon from \"@material-ui/icons/MailOutline\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport \"../styles.css\";\r\nimport \"animate.css\";\r\n\r\nconst Forget = () => {\r\n  const history = useHistory();\r\n  const [mail, setMail] = useState(\"\");\r\n  const [status, setStatus] = useState({ show: false, msg: \"\", type: \"\" });\r\n\r\n  const Alert = ({ msg, type }) => (\r\n    <Toast\r\n      onClose={() => setStatus({ show: false, msg: \"\", type: \"\" })}\r\n      show={status.show}\r\n      delay={5000}\r\n      autohide\r\n      style={{\r\n        position: \"fixed\",\r\n        top: \"20vh\",\r\n        left: \"50%\",\r\n        transform: \"translateX(-50%)\",\r\n        zIndex: \"9999\",\r\n        minWidth: \"300px\",\r\n        borderRadius: \"15px\",\r\n      }}\r\n    >\r\n      <Toast.Header\r\n        style={{\r\n          background: type === \"darkGreen\" ? \"#28a745\" : \"#dc3545\",\r\n          color: \"white\",\r\n          fontWeight: \"bold\",\r\n          borderTopLeftRadius: \"15px\",\r\n          borderTopRightRadius: \"15px\",\r\n        }}\r\n      >\r\n        {type === \"darkGreen\" ? \"Success\" : \"Error\"}\r\n      </Toast.Header>\r\n      <Toast.Body>{msg}</Toast.Body>\r\n    </Toast>\r\n  );\r\n\r\n  const handleChange = (e) => setMail(e.target.value);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!mail) return alert(\"Please enter your email\");\r\n\r\n    const config = { headers: { \"Content-Type\": \"application/json\" } };\r\n    try {\r\n      const res = await axios.post(\r\n        \"https://foodeazy.herokuapp.com/forget\",\r\n        { email: mail },\r\n        config\r\n      );\r\n\r\n      setStatus({ show: true, msg: res.data.message || res.data, type: \"darkGreen\" });\r\n\r\n      // انتقل للصفحة الثانية بعد 3 ثواني\r\n      setTimeout(() => {\r\n        history.push(`/reset-password?email=${encodeURIComponent(mail)}`);\r\n      }, 3000);\r\n    } catch (e) {\r\n      setStatus({\r\n        show: true,\r\n        msg: e.response?.data?.message || e.response?.data || \"Something went wrong\",\r\n        type: \"red\",\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"forget\">\r\n      {status.show && <Alert msg={status.msg} type={status.type} />}\r\n\r\n      <h4 style={{ marginTop: \"6vh\", fontFamily: \"Mulish\" }}>Forgot your Password?</h4>\r\n      <p>\r\n        <LockIcon style={{ fontSize: \"1.2rem\", color: \"grey\" }} />\r\n        <span style={{ fontFamily: \"Poppins\", fontSize: \"0.95rem\" }}>\r\n          Enter your email address and we'll send you a link to reset your password.\r\n        </span>\r\n      </p>\r\n\r\n      <Form onSubmit={handleSubmit}>\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <Form.Label\r\n            style={{\r\n              fontFamily: \"Poppins\",\r\n              fontWeight: \"550\",\r\n            }}\r\n          >\r\n            Email Address <MailOutlineIcon />\r\n          </Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            style={{ width: \"125%\" }}\r\n            placeholder=\"e.g. email@domain.com\"\r\n            value={mail}\r\n            onChange={handleChange}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Button\r\n          className=\"btn btn-primary\"\r\n          variant=\"primary\"\r\n          type=\"submit\"\r\n          style={{\r\n            borderRadius: \"1vh\",\r\n            textTransform: \"capitalize\",\r\n          }}\r\n        >\r\n          Reset Password\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Forget;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}