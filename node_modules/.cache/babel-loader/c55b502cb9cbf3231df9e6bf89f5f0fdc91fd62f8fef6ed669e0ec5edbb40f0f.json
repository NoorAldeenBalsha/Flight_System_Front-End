{"ast":null,"code":"import React,{useState,useEffect,useContext}from\"react\";import Axios from\"axios\";import AuthContext from\"../context/auth/authContext\";import{Spinner}from\"react-bootstrap\";import LoadingContext from\"../context/loading/loadingContext\";// import Spinnner from \"../images/Spinnner.gif\";\nconst Success=props=>{const[loading,setLoading]=useState(0);const{user}=useContext(AuthContext);const{Loader}=useContext(LoadingContext);const[data,setData]=useState(null);useEffect(()=>{const orderid=props.location.search.split(\"?\")[1].split(\"=\")[1];const fetch=async()=>{try{setLoading(1);const res=await Axios.get(\"http://localhost:5000/orders?orderid=\"+orderid);console.log(res.data);setData(res.data);console.log(data);// console.log(res.data.order.items);\nsetLoading(0);}catch(e){setLoading(0);}};fetch();},[props.location.search]);return/*#__PURE__*/React.createElement(React.Fragment,null,!data||!user?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Loader,null)):/*#__PURE__*/React.createElement(React.Fragment,null,\" \",/*#__PURE__*/React.createElement(\"div\",{className:\"successContainer\"},/*#__PURE__*/React.createElement(\"img\",{src:require(\"../images/check.png\"),alt:\"success\",style:{height:\"15vh\",paddingBottom:\"3vh\"}}),/*#__PURE__*/React.createElement(\"h2\",{style:{fontFamily:\"Red Rose\"}},\"THANK YOU!\"),/*#__PURE__*/React.createElement(\"span\",{style:{fontFamily:\"Poppins\"}},\"Your order was successfully placed. We have sent the order confirmation to \",user.email,\" .\")),/*#__PURE__*/React.createElement(\"div\",{style:{fontFamily:\"Poppins\"}},/*#__PURE__*/React.createElement(\"h4\",{style:{fontFamily:\"Mulish\",textAlign:\"center\"}},\"ORDER DETAILS -\",\" \"),/*#__PURE__*/React.createElement(\"span\",{style:{fontFamily:\"Mulish\"}},\"Order ID\"),\"-\",\" \",data.order_id,/*#__PURE__*/React.createElement(\"div\",{className:\"details\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h5\",{style:{fontFamily:\"Mulish\"}},\"Email\"),user.email),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h5\",{style:{fontFamily:\"Mulish\"}},\"Order Type\"),data.mode),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h5\",{style:{fontFamily:\"Mulish\"}},\"Payment Method\"),data.payment),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h5\",{style:{fontFamily:\"Mulish\"}},\"Order Date\"),new Date(data.time).toDateString())),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h4\",{style:{fontFamily:\"Mulish\"}},\"Order Summary\"),data.order.items.map(item=>/*#__PURE__*/React.createElement(\"p\",null,item.q,\" X \",item.name))),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",justifyContent:\"center\",margin:\"1rem 0\"}},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",{style:{fontFamily:\"Mulish\"}},\"Total Amount\"),/*#__PURE__*/React.createElement(\"h2\",null,\" \",\"\\u20B9 \",data.order.total_price+data.deliveryCharges)))),\" \"));};export default Success;","map":{"version":3,"names":["React","useState","useEffect","useContext","Axios","AuthContext","Spinner","LoadingContext","Success","props","loading","setLoading","user","Loader","data","setData","orderid","location","search","split","fetch","res","get","console","log","e","createElement","Fragment","className","src","require","alt","style","height","paddingBottom","fontFamily","email","textAlign","order_id","mode","payment","Date","time","toDateString","order","items","map","item","q","name","display","flexWrap","justifyContent","margin","total_price","deliveryCharges"],"sources":["C:/Users/ASUS/Desktop/Login/src/components/success.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport Axios from \"axios\";\r\nimport AuthContext from \"../context/auth/authContext\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport LoadingContext from \"../context/loading/loadingContext\";\r\n// import Spinnner from \"../images/Spinnner.gif\";\r\nconst Success = (props) => {\r\n  const [loading, setLoading] = useState(0);\r\n  const { user } = useContext(AuthContext);\r\n  const { Loader } = useContext(LoadingContext);\r\n  const [data, setData] = useState(null);\r\n  useEffect(() => {\r\n    const orderid = props.location.search.split(\"?\")[1].split(\"=\")[1];\r\n    const fetch = async () => {\r\n      try {\r\n        setLoading(1);\r\n        const res = await Axios.get(\r\n          \"http://localhost:5000/orders?orderid=\" + orderid\r\n        );\r\n        console.log(res.data);\r\n        setData(res.data);\r\n        console.log(data);\r\n        // console.log(res.data.order.items);\r\n        setLoading(0);\r\n      } catch (e) {\r\n        setLoading(0);\r\n      }\r\n    };\r\n    fetch();\r\n  }, [props.location.search]);\r\n  return (\r\n    <>\r\n      {!data || !user ? (\r\n        <>\r\n          <Loader />\r\n        </>\r\n      ) : (\r\n        <>\r\n          {\" \"}\r\n          <div className=\"successContainer\">\r\n            <img\r\n              src={require(\"../images/check.png\")}\r\n              alt=\"success\"\r\n              style={{ height: \"15vh\", paddingBottom: \"3vh\" }}\r\n            />\r\n            <h2 style={{ fontFamily: \"Red Rose\" }}>THANK YOU!</h2>\r\n\r\n            <span style={{ fontFamily: \"Poppins\" }}>\r\n              Your order was successfully placed. We have sent the order\r\n              confirmation to {user.email}\r\n              {\" .\"}\r\n            </span>\r\n          </div>\r\n          <div style={{ fontFamily: \"Poppins\" }}>\r\n            <h4 style={{ fontFamily: \"Mulish\", textAlign: \"center\" }}>\r\n              ORDER DETAILS -{\" \"}\r\n            </h4>\r\n            <span style={{ fontFamily: \"Mulish\" }}>Order ID</span>-{\" \"}\r\n            {data.order_id}\r\n            <div className=\"details\">\r\n              <div>\r\n                <h5 style={{ fontFamily: \"Mulish\" }}>Email</h5>\r\n                {user.email}\r\n              </div>\r\n              <div>\r\n                <h5 style={{ fontFamily: \"Mulish\" }}>Order Type</h5>\r\n                {data.mode}\r\n              </div>\r\n              <div>\r\n                <h5 style={{ fontFamily: \"Mulish\" }}>Payment Method</h5>\r\n                {data.payment}\r\n              </div>\r\n              <div>\r\n                <h5 style={{ fontFamily: \"Mulish\" }}>Order Date</h5>\r\n                {new Date(data.time).toDateString()}\r\n              </div>\r\n            </div>\r\n            <div>\r\n              <h4 style={{ fontFamily: \"Mulish\" }}>Order Summary</h4>\r\n              {data.order.items.map((item) => (\r\n                <p>\r\n                  {item.q} X {item.name}\r\n                </p>\r\n              ))}\r\n            </div>\r\n            <div\r\n              style={{\r\n                display: \"flex\",\r\n                flexWrap: \"wrap\",\r\n                justifyContent: \"center\",\r\n                margin: \"1rem 0\"\r\n              }}\r\n            >\r\n              <div>\r\n                <h2 style={{ fontFamily: \"Mulish\" }}>Total Amount</h2>\r\n                <h2>\r\n                  {\" \"}\r\n                  &#x20b9; {data.order.total_price + data.deliveryCharges}\r\n                </h2>\r\n              </div>\r\n            </div>\r\n          </div>{\" \"}\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Success;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}