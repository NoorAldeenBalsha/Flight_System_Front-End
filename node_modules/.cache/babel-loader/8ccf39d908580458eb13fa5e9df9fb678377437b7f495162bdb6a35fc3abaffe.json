{"ast":null,"code":"import _objectSpread from\"C:/Users/ASUS/Desktop/Login/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{Form,Button,Toast}from\"react-bootstrap\";import\"animate.css\";import axios from\"axios\";const ResetPassword=props=>{const code=props.match.params.code;const[status,setStatus]=useState({val:0,msg:\"\",type:\"\"});const Alert=(msg,type)=>{return/*#__PURE__*/React.createElement(Toast,{className:type===\"red\"?\"animate_animated animate_shakeX\":\"animate_animated animate_fadeInRight animate_slow\",style:{position:\"fixed\",right:\"0\",zIndex:\"9899899\"}},/*#__PURE__*/React.createElement(Toast.Header,{style:{background:status.type,color:\"white\",fontWeight:\"bold\"}},/*#__PURE__*/React.createElement(\"strong\",{className:\"mr-auto\"},type===\"success\"||\"darkGreen\"?\"Success\":\"Fail\")),/*#__PURE__*/React.createElement(Toast.Body,null,status.msg));};const[state,setState]=useState({password:\"\",confirmPassword:\"\"});const handleSubmit=async e=>{e.preventDefault();if(state.password===state.confirmPassword&&state.password&&state.confirmPassword){e.preventDefault();const config={headers:{\"Content-Type\":\"application/json\"}};const formData={code,password:state.password};try{const res=await axios.post(\"https://foodeazy.herokuapp.com/reset\",formData,config);if(res.status==200){setStatus({val:1,msg:\"Password Successfully Changed\",type:\"darkGreen\"});let id=setTimeout(()=>{setStatus({val:0,msg:\"\",type:\"\"});props.history.push(\"/\");clearTimeout(id);},3000);}}catch(e){setStatus({val:1,msg:\"Server Error\",type:\"red\"});let id=setTimeout(()=>{setStatus({val:0,msg:\"\",type:\"\"});clearTimeout(id);},3000);}}else{setStatus({val:1,msg:\"Fields Should Match\",type:\"red\"});let id=setTimeout(()=>{setStatus({val:0,msg:\"\",type:\"\"});clearTimeout(id);},3000);}};const handleChange=e=>{setState(_objectSpread(_objectSpread({},state),{},{[e.target.name]:e.target.value}));};useEffect(()=>{const get=async()=>{try{let code=props.match.params.code;let res=await axios.get(\"https://foodeazy.herokuapp.com/reset?code=\"+code,code,{headers:{\"Content-Type\":\"application/json\"}});// console.log(res.data);\n}catch(e){console.log(e.response);props.history.push(\"/\");}};get();},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,status.val?/*#__PURE__*/React.createElement(Alert,{type:status.type}):\"\",/*#__PURE__*/React.createElement(\"h3\",{style:{marginTop:\"6vh\",fontFamily:\"Mulish\"}},\"Reset Password\"),/*#__PURE__*/React.createElement(\"div\",{className:\"forget\"},/*#__PURE__*/React.createElement(Form,{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicEmail\"},/*#__PURE__*/React.createElement(Form.Label,{style:{fontFamily:\"Poppins\",align:\"left\",fontWeight:\"550\"}},\"Password\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"password\",value:state.password,name:\"password\",style:{width:\"20rem\"},placeholder:\"Password\",onChange:handleChange}),/*#__PURE__*/React.createElement(Form.Text,{className:\"text-muted\"},\"Password And Confirm Password Should Match.\")),/*#__PURE__*/React.createElement(Form.Group,{controlId:\"formBasicPassword\"},/*#__PURE__*/React.createElement(Form.Label,{style:{fontFamily:\"Poppins\",align:\"left\",fontWeight:\"550\"}},\"Confirm Password\"),/*#__PURE__*/React.createElement(Form.Control,{name:\"confirmPassword\",value:state.confirmPassword,type:\"password\",onChange:handleChange,style:{width:\"20rem\"},placeholder:\"Confirm Password\"})),/*#__PURE__*/React.createElement(Button,{variant:\"primary\",type:\"submit\",style:{borderRadius:\"1vh\",width:\"20rem\",fontFamily:\"Poppins\",textTransform:\"capitalize\"}},\"Reset Password\"))));};export default ResetPassword;","map":{"version":3,"names":["React","useState","useEffect","Form","Button","Toast","axios","ResetPassword","props","code","match","params","status","setStatus","val","msg","type","Alert","createElement","className","style","position","right","zIndex","Header","background","color","fontWeight","Body","state","setState","password","confirmPassword","handleSubmit","e","preventDefault","config","headers","formData","res","post","id","setTimeout","history","push","clearTimeout","handleChange","_objectSpread","target","name","value","get","console","log","response","Fragment","marginTop","fontFamily","onSubmit","Group","controlId","Label","align","Control","width","placeholder","onChange","Text","variant","borderRadius","textTransform"],"sources":["C:/Users/ASUS/Desktop/Login/src/components/resetPassword.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Form, Button, Toast } from \"react-bootstrap\";\r\nimport \"animate.css\";\r\nimport axios from \"axios\";\r\nconst ResetPassword = (props) => {\r\n  const code = props.match.params.code;\r\n  const [status, setStatus] = useState({ val: 0, msg: \"\", type: \"\" });\r\n  const Alert = (msg, type) => {\r\n    return (\r\n      <Toast\r\n        className={\r\n          type === \"red\"\r\n            ? \"animate_animated animate_shakeX\"\r\n            : \"animate_animated animate_fadeInRight animate_slow\"\r\n        }\r\n        style={{ position: \"fixed\", right: \"0\", zIndex: \"9899899\" }}\r\n      >\r\n        <Toast.Header\r\n          style={{\r\n            background: status.type,\r\n            color: \"white\",\r\n            fontWeight: \"bold\"\r\n          }}\r\n        >\r\n          <strong className=\"mr-auto\">\r\n            {type === \"success\" || \"darkGreen\" ? \"Success\" : \"Fail\"}\r\n          </strong>\r\n          {/* <small>2 seconds ago</small> */}\r\n        </Toast.Header>\r\n        <Toast.Body>{status.msg}</Toast.Body>\r\n      </Toast>\r\n    );\r\n  };\r\n  const [state, setState] = useState({\r\n    password: \"\",\r\n    confirmPassword: \"\"\r\n  });\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (\r\n      state.password === state.confirmPassword &&\r\n      state.password &&\r\n      state.confirmPassword\r\n    ) {\r\n      e.preventDefault();\r\n      const config = {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        }\r\n      };\r\n      const formData = {\r\n        code,\r\n        password: state.password\r\n      };\r\n      try {\r\n        const res = await axios.post(\r\n          \"https://foodeazy.herokuapp.com/reset\",\r\n          formData,\r\n          config\r\n        );\r\n        if (res.status == 200) {\r\n          setStatus({\r\n            val: 1,\r\n            msg: \"Password Successfully Changed\",\r\n            type: \"darkGreen\"\r\n          });\r\n          let id = setTimeout(() => {\r\n            setStatus({ val: 0, msg: \"\", type: \"\" });\r\n            props.history.push(\"/\");\r\n            clearTimeout(id);\r\n          }, 3000);\r\n        }\r\n      } catch (e) {\r\n        setStatus({ val: 1, msg: \"Server Error\", type: \"red\" });\r\n        let id = setTimeout(() => {\r\n          setStatus({ val: 0, msg: \"\", type: \"\" });\r\n          clearTimeout(id);\r\n        }, 3000);\r\n      }\r\n    } else {\r\n      setStatus({ val: 1, msg: \"Fields Should Match\", type: \"red\" });\r\n      let id = setTimeout(() => {\r\n        setStatus({ val: 0, msg: \"\", type: \"\" });\r\n        clearTimeout(id);\r\n      }, 3000);\r\n    }\r\n  };\r\n  const handleChange = (e) => {\r\n    setState({ ...state, [e.target.name]: e.target.value });\r\n  };\r\n  useEffect(() => {\r\n    const get = async () => {\r\n      try {\r\n        let code = props.match.params.code;\r\n\r\n        let res = await axios.get(\r\n          \"https://foodeazy.herokuapp.com/reset?code=\" + code,\r\n          code,\r\n          {\r\n            headers: {\r\n              \"Content-Type\": \"application/json\"\r\n            }\r\n          }\r\n        );\r\n        // console.log(res.data);\r\n      } catch (e) {\r\n        console.log(e.response);\r\n        props.history.push(\"/\");\r\n      }\r\n    };\r\n    get();\r\n  }, []);\r\n  return (\r\n    <>\r\n      {status.val ? <Alert type={status.type} /> : \"\"}\r\n      <h3 style={{ marginTop: \"6vh\", fontFamily: \"Mulish\" }}>Reset Password</h3>\r\n      <div className=\"forget\">\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group controlId=\"formBasicEmail\">\r\n            <Form.Label\r\n              style={{\r\n                fontFamily: \"Poppins\",\r\n                align: \"left\",\r\n                fontWeight: \"550\"\r\n              }}\r\n            >\r\n              Password\r\n            </Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              value={state.password}\r\n              name=\"password\"\r\n              style={{ width: \"20rem\" }}\r\n              placeholder=\"Password\"\r\n              onChange={handleChange}\r\n            />\r\n            <Form.Text className=\"text-muted\">\r\n              Password And Confirm Password Should Match.\r\n            </Form.Text>\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId=\"formBasicPassword\">\r\n            <Form.Label\r\n              style={{\r\n                fontFamily: \"Poppins\",\r\n                align: \"left\",\r\n                fontWeight: \"550\"\r\n              }}\r\n            >\r\n              Confirm Password\r\n            </Form.Label>\r\n            <Form.Control\r\n              name=\"confirmPassword\"\r\n              value={state.confirmPassword}\r\n              type=\"password\"\r\n              onChange={handleChange}\r\n              style={{ width: \"20rem\" }}\r\n              placeholder=\"Confirm Password\"\r\n            />\r\n          </Form.Group>\r\n          <Button\r\n            variant=\"primary\"\r\n            type=\"submit\"\r\n            style={{\r\n              borderRadius: \"1vh\",\r\n              width: \"20rem\",\r\n              fontFamily: \"Poppins\",\r\n              textTransform: \"capitalize\"\r\n            }}\r\n          >\r\n            Reset Password\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default ResetPassword;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}