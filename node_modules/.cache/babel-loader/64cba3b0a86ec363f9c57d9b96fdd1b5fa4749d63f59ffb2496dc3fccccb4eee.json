{"ast":null,"code":"import React,{useContext,useReducer}from\"react\";import CartContext from\"./cartContext\";import CartReducer from\"./cartReducer\";import axios from\"axios\";const CartState=props=>{const initialState={total_quantity:0,total_price:0,items:[],current:0,loading2:false,clicked:0};const[state,dispatch]=useReducer(CartReducer,initialState);const loadCart=async()=>{try{dispatch({type:\"SetLoading\"});const res=await axios.get(\"https://foodeazy.herokuapp.com/cart\");await dispatch({type:\"LOAD_CART\",payload:res.data});dispatch({type:\"UnsetLoading\"});}catch(e){console.log(e.response);}};const clearCart=async()=>{const config={headers:{\"Content-Type\":\"application/json\"}};try{const res=await axios.put(\"https://foodeazy.herokuapp.com/cart\",config);dispatch({type:\"CLEAR_CART\"});}catch(e){console.log(e);}};const addProduct=item=>{// console.log(item);\ndispatch({type:\"ADD_PRODUCT\",payload:item});};const removeProduct=item=>{dispatch({type:\"REMOVE_PRODUCT\",payload:item});};const saveCart=async(user_id,state)=>{const formData={user_id,cart:state};const config={headers:{\"Content-Type\":\"application/json\"}};try{const res=await axios.post(\"https://foodeazy.herokuapp.com/cart\",formData,config);if(res.status===200)return 1;else return 0;}catch(err){console.log(err.response);return 0;}};const deleteClick=item=>{dispatch({type:\"DELETE_CLICK\",payload:item});};return/*#__PURE__*/React.createElement(CartContext.Provider,{value:{addProduct,items:state.items,total_q:state.total_quantity,total_price:state.total_price,removeProduct,saveCart:saveCart,state:state,loadCart,deleteClick:deleteClick,clearCart,loading2:state.loading2}},props.children);};export default CartState;","map":{"version":3,"names":["React","useContext","useReducer","CartContext","CartReducer","axios","CartState","props","initialState","total_quantity","total_price","items","current","loading2","clicked","state","dispatch","loadCart","type","res","get","payload","data","e","console","log","response","clearCart","config","headers","put","addProduct","item","removeProduct","saveCart","user_id","formData","cart","post","status","err","deleteClick","createElement","Provider","value","total_q","children"],"sources":["C:/Users/ASUS/Desktop/Login/src/context/cart/cartState.js"],"sourcesContent":["import React, { useContext, useReducer } from \"react\";\r\nimport CartContext from \"./cartContext\";\r\nimport CartReducer from \"./cartReducer\";\r\nimport axios from \"axios\";\r\nconst CartState = (props) => {\r\n  const initialState = {\r\n    total_quantity: 0,\r\n    total_price: 0,\r\n    items: [],\r\n    current: 0,\r\n    loading2: false,\r\n    clicked: 0\r\n  };\r\n  const [state, dispatch] = useReducer(CartReducer, initialState);\r\n  const loadCart = async () => {\r\n    try {\r\n      dispatch({ type: \"SetLoading\" });\r\n      const res = await axios.get(\"https://foodeazy.herokuapp.com/cart\");\r\n      await dispatch({ type: \"LOAD_CART\", payload: res.data });\r\n      dispatch({ type: \"UnsetLoading\" });\r\n    } catch (e) {\r\n      console.log(e.response);\r\n    }\r\n  };\r\n  const clearCart = async () => {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    };\r\n    try {\r\n      const res = await axios.put(\r\n        \"https://foodeazy.herokuapp.com/cart\",\r\n        config\r\n      );\r\n      dispatch({ type: \"CLEAR_CART\" });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n  const addProduct = (item) => {\r\n    // console.log(item);\r\n    dispatch({\r\n      type: \"ADD_PRODUCT\",\r\n      payload: item\r\n    });\r\n  };\r\n\r\n  const removeProduct = (item) => {\r\n    dispatch({ type: \"REMOVE_PRODUCT\", payload: item });\r\n  };\r\n  const saveCart = async (user_id, state) => {\r\n    const formData = { user_id, cart: state };\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    };\r\n    try {\r\n      const res = await axios.post(\r\n        \"https://foodeazy.herokuapp.com/cart\",\r\n        formData,\r\n        config\r\n      );\r\n      if (res.status === 200) return 1;\r\n      else return 0;\r\n    } catch (err) {\r\n      console.log(err.response);\r\n      return 0;\r\n    }\r\n  };\r\n  const deleteClick = (item) => {\r\n    dispatch({ type: \"DELETE_CLICK\", payload: item });\r\n  };\r\n  return (\r\n    <CartContext.Provider\r\n      value={{\r\n        addProduct,\r\n        items: state.items,\r\n        total_q: state.total_quantity,\r\n        total_price: state.total_price,\r\n        removeProduct,\r\n        saveCart: saveCart,\r\n        state: state,\r\n        loadCart,\r\n        deleteClick: deleteClick,\r\n        clearCart,\r\n        loading2: state.loading2\r\n      }}\r\n    >\r\n      {props.children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CartState;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}