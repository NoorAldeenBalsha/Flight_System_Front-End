{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\Login\\\\src\\\\components\\\\Forget.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { Form, Button, Toast } from \"react-bootstrap\";\nimport MailOutlineIcon from \"@material-ui/icons/MailOutline\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport axios from \"axios\";\nimport \"../styles.css\";\nconst Forget = _ref => {\n  _s();\n  let {\n    history\n  } = _ref;\n  const [mail, setMail] = useState(\"\");\n  const [status, setStatus] = useState({\n    val: 0,\n    msg: \"\",\n    type: \"\"\n  });\n  const isMounted = useRef(true);\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n  const handleChange = e => setMail(e.target.value);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!mail) return alert(\"Please enter your email\");\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    const formData = {\n      email: mail\n    };\n    try {\n      const res = await axios.post(\"http://localhost:5000/api/user/forgot-password\", formData, config);\n      if (isMounted.current) setStatus({\n        val: 1,\n        msg: res.data.message || res.data,\n        type: \"darkGreen\"\n      });\n      setTimeout(() => {\n        if (isMounted.current) {\n          setStatus({\n            val: 0,\n            msg: \"\",\n            type: \"\"\n          });\n          history.push(\"/forget/\".concat(res.data.code || \"\"));\n        }\n      }, 3000);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      if (isMounted.current) setStatus({\n        val: 1,\n        msg: ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Something went wrong\",\n        type: \"red\"\n      });\n      setTimeout(() => {\n        if (isMounted.current) setStatus({\n          val: 0,\n          msg: \"\",\n          type: \"\"\n        });\n      }, 3000);\n    }\n  };\n  const Alert = () => {\n    if (!status.val) return null;\n    const msg = typeof status.msg === \"object\" ? JSON.stringify(status.msg) : status.msg;\n    return /*#__PURE__*/React.createElement(Toast, {\n      style: {\n        position: \"fixed\",\n        top: \"20vh\",\n        left: \"50%\",\n        transform: \"translateX(-50%)\",\n        zIndex: \"999999\",\n        minWidth: \"300px\",\n        borderRadius: \"10px\"\n      },\n      className: status.type === \"darkGreen\" ? \"bg-success text-white\" : \"bg-danger text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Toast.Body, {\n      style: {\n        textAlign: \"center\",\n        fontWeight: \"bold\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, msg));\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"forget\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, status.val && /*#__PURE__*/React.createElement(Alert, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 22\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    style: {\n      marginTop: \"6vh\",\n      fontFamily: \"Mulish\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, \"Forgot your Password?\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(LockIcon, {\n    style: {\n      fontSize: \"1.2rem\",\n      color: \"grey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }), \"Enter your email address and we'll send you a code to reset your password.\"), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formBasicEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, \"Email Address \", /*#__PURE__*/React.createElement(MailOutlineIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    placeholder: \"e.g. email@domain.com\",\n    value: mail,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    style: {\n      borderRadius: \"1vh\",\n      textTransform: \"capitalize\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, \"Reset Password\")));\n};\n_s(Forget, \"XbHL8r0hXotwLFL1C6ded42oM8I=\");\n_c = Forget;\nexport default Forget;\nvar _c;\n$RefreshReg$(_c, \"Forget\");","map":{"version":3,"names":["React","useState","useRef","useEffect","Form","Button","Toast","MailOutlineIcon","LockIcon","axios","Forget","_ref","_s","history","mail","setMail","status","setStatus","val","msg","type","isMounted","current","handleChange","e","target","value","handleSubmit","preventDefault","alert","config","headers","formData","email","res","post","data","message","setTimeout","push","concat","code","err","_err$response","_err$response$data","response","Alert","JSON","stringify","createElement","style","position","top","left","transform","zIndex","minWidth","borderRadius","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Body","textAlign","fontWeight","marginTop","fontFamily","fontSize","color","onSubmit","Group","controlId","Label","Control","placeholder","onChange","textTransform","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/Desktop/Login/src/components/Forget.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from \"react\";\r\nimport { Form, Button, Toast } from \"react-bootstrap\";\r\nimport MailOutlineIcon from \"@material-ui/icons/MailOutline\";\r\nimport LockIcon from \"@material-ui/icons/Lock\";\r\nimport axios from \"axios\";\r\nimport \"../styles.css\";\r\n\r\nconst Forget = ({ history }) => {\r\n  const [mail, setMail] = useState(\"\");\r\n  const [status, setStatus] = useState({ val: 0, msg: \"\", type: \"\" });\r\n  const isMounted = useRef(true);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  const handleChange = (e) => setMail(e.target.value);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!mail) return alert(\"Please enter your email\");\r\n\r\n    const config = { headers: { \"Content-Type\": \"application/json\" } };\r\n    const formData = { email: mail };\r\n\r\n    try {\r\n      const res = await axios.post(\r\n        \"http://localhost:5000/api/user/forgot-password\",\r\n        formData,\r\n        config\r\n      );\r\n\r\n      if (isMounted.current)\r\n        setStatus({ val: 1, msg: res.data.message || res.data, type: \"darkGreen\" });\r\n\r\n      setTimeout(() => {\r\n        if (isMounted.current) {\r\n          setStatus({ val: 0, msg: \"\", type: \"\" });\r\n          history.push(`/forget/${res.data.code || \"\"}`);\r\n        }\r\n      }, 3000);\r\n    } catch (err) {\r\n      if (isMounted.current)\r\n        setStatus({\r\n          val: 1,\r\n          msg: err.response?.data?.message || \"Something went wrong\",\r\n          type: \"red\",\r\n        });\r\n\r\n      setTimeout(() => {\r\n        if (isMounted.current) setStatus({ val: 0, msg: \"\", type: \"\" });\r\n      }, 3000);\r\n    }\r\n  };\r\n\r\n  const Alert = () => {\r\n    if (!status.val) return null;\r\n    const msg = typeof status.msg === \"object\" ? JSON.stringify(status.msg) : status.msg;\r\n\r\n    return (\r\n      <Toast\r\n        style={{\r\n          position: \"fixed\",\r\n          top: \"20vh\",\r\n          left: \"50%\",\r\n          transform: \"translateX(-50%)\",\r\n          zIndex: \"999999\",\r\n          minWidth: \"300px\",\r\n          borderRadius: \"10px\",\r\n        }}\r\n        className={status.type === \"darkGreen\" ? \"bg-success text-white\" : \"bg-danger text-white\"}\r\n      >\r\n        <Toast.Body style={{ textAlign: \"center\", fontWeight: \"bold\" }}>\r\n          {msg}\r\n        </Toast.Body>\r\n      </Toast>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"forget\">\r\n      {status.val && <Alert />}\r\n      <h4 style={{ marginTop: \"6vh\", fontFamily: \"Mulish\" }}>Forgot your Password?</h4>\r\n      <p>\r\n        <LockIcon style={{ fontSize: \"1.2rem\", color: \"grey\" }} />\r\n        Enter your email address and we'll send you a code to reset your password.\r\n      </p>\r\n      <Form onSubmit={handleSubmit}>\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <Form.Label>Email Address <MailOutlineIcon /></Form.Label>\r\n          <Form.Control\r\n            type=\"email\"\r\n            placeholder=\"e.g. email@domain.com\"\r\n            value={mail}\r\n            onChange={handleChange}\r\n          />\r\n        </Form.Group>\r\n        <Button\r\n          type=\"submit\"\r\n          style={{ borderRadius: \"1vh\", textTransform: \"capitalize\" }}\r\n        >\r\n          Reset Password\r\n        </Button>\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Forget;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}