{"ast":null,"code":"import _objectSpread from \"C:/Users/ASUS/Desktop/Login/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\Login\\\\src\\\\components\\\\Forget.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Button, Form } from \"react-bootstrap\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport MailOutlineIcon from \"@material-ui/icons/MailOutline\";\nimport GlobalToast from \"../components/GlobalToast\";\nimport { toUserMessage } from \"../utils/error\";\nimport api from \"../api\";\nconst Forget = _ref => {\n  _s();\n  let {\n    history\n  } = _ref;\n  const [email, setEmail] = useState(\"\");\n  const [toast, setToast] = useState({\n    show: false,\n    type: \"success\",\n    text: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const notify = (type, text) => setToast({\n    show: true,\n    type,\n    text\n  });\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!email.trim()) return notify(\"error\", \"الرجاء إدخال البريد الإلكتروني\");\n    setLoading(true);\n    try {\n      await api.post(\"/user/password/forgot\", {\n        email\n      });\n      notify(\"success\", \"تم الإرسال! تفقد بريدك الإلكتروني.\");\n      setTimeout(() => history.push(\"/reset-password\"), 2000);\n    } catch (err) {\n      notify(\"error\", err.userMessage || toUserMessage(err));\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(GlobalToast, {\n    show: toast.show,\n    type: toast.type,\n    onClose: () => setToast(s => _objectSpread(_objectSpread({}, s), {}, {\n      show: false\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, toast.text), /*#__PURE__*/React.createElement(\"h4\", {\n    style: {\n      marginTop: \"6vh\",\n      fontFamily: \"Mulish\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, \"Forgot your Password?\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"forget\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LockIcon, {\n    style: {\n      fontSize: \"1.2rem\",\n      color: \"grey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontFamily: \"Poppins\",\n      fontSize: \"0.95rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }, \" \", \"\\u0623\\u062F\\u062E\\u0644 \\u0628\\u0631\\u064A\\u062F\\u0643 \\u0648\\u0633\\u0646\\u0631\\u0633\\u0644 \\u0644\\u0643 \\u0643\\u0648\\u062F \\u0625\\u0639\\u0627\\u062F\\u0629 \\u0627\\u0644\\u062A\\u0639\\u064A\\u064A\\u0646.\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formBasicEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    style: {\n      fontFamily: \"Poppins\",\n      fontWeight: 550\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, \"Email Address \", /*#__PURE__*/React.createElement(MailOutlineIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    style: {\n      width: \"125%\"\n    },\n    placeholder: \"e.g. email@domain.com\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    className: \"btn btn-primary\",\n    variant: \"primary\",\n    type: \"submit\",\n    disabled: loading,\n    style: {\n      borderRadius: \"1vh\",\n      textTransform: \"capitalize\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, loading ? \"Sending...\" : \"Reset Password\"))));\n};\n_s(Forget, \"rqM/mUXMxkF9QAltsYWFgljgwJ0=\");\n_c = Forget;\nexport default Forget;\nvar _c;\n$RefreshReg$(_c, \"Forget\");","map":{"version":3,"names":["React","useState","Button","Form","LockIcon","MailOutlineIcon","GlobalToast","toUserMessage","api","Forget","_ref","_s","history","email","setEmail","toast","setToast","show","type","text","loading","setLoading","notify","handleSubmit","e","preventDefault","trim","post","setTimeout","push","err","userMessage","createElement","Fragment","onClose","s","_objectSpread","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","fontFamily","className","fontSize","color","onSubmit","Group","controlId","Label","fontWeight","Control","width","placeholder","value","onChange","target","variant","disabled","borderRadius","textTransform","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/Desktop/Login/src/components/Forget.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Button, Form } from \"react-bootstrap\";\r\nimport LockIcon from \"@material-ui/icons/Lock\";\r\nimport MailOutlineIcon from \"@material-ui/icons/MailOutline\";\r\nimport GlobalToast from \"../components/GlobalToast\";\r\nimport { toUserMessage } from \"../utils/error\";\r\nimport api from \"../api\";\r\n\r\nconst Forget = ({ history }) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [toast, setToast] = useState({ show:false, type:\"success\", text:\"\" });\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const notify = (type, text) => setToast({ show:true, type, text });\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!email.trim()) return notify(\"error\",\"الرجاء إدخال البريد الإلكتروني\");\r\n    setLoading(true);\r\n    try {\r\n      await api.post(\"/user/password/forgot\", { email });\r\n      notify(\"success\", \"تم الإرسال! تفقد بريدك الإلكتروني.\");\r\n      setTimeout(() => history.push(\"/reset-password\"), 2000);\r\n    } catch (err) {\r\n      notify(\"error\", err.userMessage || toUserMessage(err));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <GlobalToast\r\n        show={toast.show}\r\n        type={toast.type}\r\n        onClose={()=>setToast(s=>({ ...s, show:false }))}>\r\n        {toast.text}\r\n      </GlobalToast>\r\n\r\n      <h4 style={{ marginTop: \"6vh\", fontFamily: \"Mulish\" }}>\r\n        Forgot your Password?\r\n      </h4>\r\n      <div className=\"forget\">\r\n        <p>\r\n          <LockIcon style={{ fontSize: \"1.2rem\", color: \"grey\" }} />\r\n          <span style={{ fontFamily: \"Poppins\", fontSize: \"0.95rem\" }}>\r\n            {\" \"}أدخل بريدك وسنرسل لك كود إعادة التعيين.\r\n          </span>\r\n        </p>\r\n        <br />\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group controlId=\"formBasicEmail\">\r\n            <Form.Label style={{ fontFamily: \"Poppins\", fontWeight: 550 }}>\r\n              Email Address <MailOutlineIcon />\r\n            </Form.Label>\r\n            <Form.Control\r\n              type=\"email\"\r\n              style={{ width: \"125%\" }}\r\n              placeholder=\"e.g. email@domain.com\"\r\n              value={email}\r\n              onChange={(e)=>setEmail(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Button\r\n            className=\"btn btn-primary\"\r\n            variant=\"primary\"\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            style={{ borderRadius: \"1vh\", textTransform: \"capitalize\" }}\r\n          >\r\n            {loading ? \"Sending...\" : \"Reset Password\"}\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Forget;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}