{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\BPR602-Project2\\\\Flight_System_Front-End\\\\src\\\\context\\\\cart\\\\cartState.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useReducer } from \"react\";\nimport CartContext from \"./cartContext\";\nimport CartReducer from \"./cartReducer\";\nimport axios from \"axios\";\nconst CartState = props => {\n  _s();\n  const initialState = {\n    total_quantity: 0,\n    total_price: 0,\n    items: [],\n    current: 0,\n    loading2: false,\n    clicked: 0\n  };\n  const [state, dispatch] = useReducer(CartReducer, initialState);\n  const loadCart = async () => {\n    try {\n      dispatch({\n        type: \"SetLoading\"\n      });\n      const res = await axios.get(\"https://foodeazy.herokuapp.com/cart\");\n      await dispatch({\n        type: \"LOAD_CART\",\n        payload: res.data\n      });\n      dispatch({\n        type: \"UnsetLoading\"\n      });\n    } catch (e) {\n      console.log(e.response);\n    }\n  };\n  const clearCart = async () => {\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    try {\n      const res = await axios.put(\"https://foodeazy.herokuapp.com/cart\", config);\n      dispatch({\n        type: \"CLEAR_CART\"\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  };\n  const addProduct = item => {\n    // console.log(item);\n    dispatch({\n      type: \"ADD_PRODUCT\",\n      payload: item\n    });\n  };\n  const removeProduct = item => {\n    dispatch({\n      type: \"REMOVE_PRODUCT\",\n      payload: item\n    });\n  };\n  const saveCart = async (user_id, state) => {\n    const formData = {\n      user_id,\n      cart: state\n    };\n    const config = {\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    try {\n      const res = await axios.post(\"https://foodeazy.herokuapp.com/cart\", formData, config);\n      if (res.status === 200) return 1;else return 0;\n    } catch (err) {\n      console.log(err.response);\n      return 0;\n    }\n  };\n  const deleteClick = item => {\n    dispatch({\n      type: \"DELETE_CLICK\",\n      payload: item\n    });\n  };\n  return /*#__PURE__*/React.createElement(CartContext.Provider, {\n    value: {\n      addProduct,\n      items: state.items,\n      total_q: state.total_quantity,\n      total_price: state.total_price,\n      removeProduct,\n      saveCart: saveCart,\n      state: state,\n      loadCart,\n      deleteClick: deleteClick,\n      clearCart,\n      loading2: state.loading2\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }\n  }, props.children);\n};\n_s(CartState, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c = CartState;\nexport default CartState;\nvar _c;\n$RefreshReg$(_c, \"CartState\");","map":{"version":3,"names":["React","useContext","useReducer","CartContext","CartReducer","axios","CartState","props","_s","initialState","total_quantity","total_price","items","current","loading2","clicked","state","dispatch","loadCart","type","res","get","payload","data","e","console","log","response","clearCart","config","headers","put","addProduct","item","removeProduct","saveCart","user_id","formData","cart","post","status","err","deleteClick","createElement","Provider","value","total_q","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","children","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/Desktop/BPR602-Project2/Flight_System_Front-End/src/context/cart/cartState.js"],"sourcesContent":["import React, { useContext, useReducer } from \"react\";\r\nimport CartContext from \"./cartContext\";\r\nimport CartReducer from \"./cartReducer\";\r\nimport axios from \"axios\";\r\nconst CartState = (props) => {\r\n  const initialState = {\r\n    total_quantity: 0,\r\n    total_price: 0,\r\n    items: [],\r\n    current: 0,\r\n    loading2: false,\r\n    clicked: 0\r\n  };\r\n  const [state, dispatch] = useReducer(CartReducer, initialState);\r\n  const loadCart = async () => {\r\n    try {\r\n      dispatch({ type: \"SetLoading\" });\r\n      const res = await axios.get(\"https://foodeazy.herokuapp.com/cart\");\r\n      await dispatch({ type: \"LOAD_CART\", payload: res.data });\r\n      dispatch({ type: \"UnsetLoading\" });\r\n    } catch (e) {\r\n      console.log(e.response);\r\n    }\r\n  };\r\n  const clearCart = async () => {\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    };\r\n    try {\r\n      const res = await axios.put(\r\n        \"https://foodeazy.herokuapp.com/cart\",\r\n        config\r\n      );\r\n      dispatch({ type: \"CLEAR_CART\" });\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n  const addProduct = (item) => {\r\n    // console.log(item);\r\n    dispatch({\r\n      type: \"ADD_PRODUCT\",\r\n      payload: item\r\n    });\r\n  };\r\n\r\n  const removeProduct = (item) => {\r\n    dispatch({ type: \"REMOVE_PRODUCT\", payload: item });\r\n  };\r\n  const saveCart = async (user_id, state) => {\r\n    const formData = { user_id, cart: state };\r\n    const config = {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    };\r\n    try {\r\n      const res = await axios.post(\r\n        \"https://foodeazy.herokuapp.com/cart\",\r\n        formData,\r\n        config\r\n      );\r\n      if (res.status === 200) return 1;\r\n      else return 0;\r\n    } catch (err) {\r\n      console.log(err.response);\r\n      return 0;\r\n    }\r\n  };\r\n  const deleteClick = (item) => {\r\n    dispatch({ type: \"DELETE_CLICK\", payload: item });\r\n  };\r\n  return (\r\n    <CartContext.Provider\r\n      value={{\r\n        addProduct,\r\n        items: state.items,\r\n        total_q: state.total_quantity,\r\n        total_price: state.total_price,\r\n        removeProduct,\r\n        saveCart: saveCart,\r\n        state: state,\r\n        loadCart,\r\n        deleteClick: deleteClick,\r\n        clearCart,\r\n        loading2: state.loading2\r\n      }}\r\n    >\r\n      {props.children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CartState;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}