{"ast":null,"code":"export function toUserMessage(err) {\n  let fallback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"حدث خطأ، حاول مجدداً\";\n  if (!err) return fallback;\n\n  // axios error?\n  if (err.response) {\n    const data = err.response.data;\n    if (typeof data === \"string\") return data;\n    if (data !== null && data !== void 0 && data.message && typeof data.message === \"string\") return data.message;\n    if (Array.isArray(data === null || data === void 0 ? void 0 : data.message)) return data.message.join(\" • \");\n    // NestJS أحياناً يرجّع message: array أو { message, error, statusCode }\n    if (data !== null && data !== void 0 && data.error && typeof data.error === \"string\") return \"\".concat(data.error);\n    try {\n      return JSON.stringify(data);\n    } catch (_unused) {\n      return fallback;\n    }\n  }\n\n  // plain Error\n  if (err.message) return err.message;\n\n  // string\n  if (typeof err === \"string\") return err;\n  try {\n    return JSON.stringify(err);\n  } catch (_unused2) {\n    return fallback;\n  }\n}","map":{"version":3,"names":["toUserMessage","err","fallback","arguments","length","undefined","response","data","message","Array","isArray","join","error","concat","JSON","stringify","_unused","_unused2"],"sources":["C:/Users/ASUS/Desktop/Login/src/utils/error.js"],"sourcesContent":["export function toUserMessage(err, fallback = \"حدث خطأ، حاول مجدداً\") {\r\n  if (!err) return fallback;\r\n\r\n  // axios error?\r\n  if (err.response) {\r\n    const data = err.response.data;\r\n    if (typeof data === \"string\") return data;\r\n    if (data?.message && typeof data.message === \"string\") return data.message;\r\n    if (Array.isArray(data?.message)) return data.message.join(\" • \");\r\n    // NestJS أحياناً يرجّع message: array أو { message, error, statusCode }\r\n    if (data?.error && typeof data.error === \"string\") return `${data.error}`;\r\n    try { return JSON.stringify(data); } catch { return fallback; }\r\n  }\r\n\r\n  // plain Error\r\n  if (err.message) return err.message;\r\n\r\n  // string\r\n  if (typeof err === \"string\") return err;\r\n\r\n  try { return JSON.stringify(err); } catch { return fallback; }\r\n}"],"mappings":"AAAA,OAAO,SAASA,aAAaA,CAACC,GAAG,EAAqC;EAAA,IAAnCC,QAAQ,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,sBAAsB;EAClE,IAAI,CAACF,GAAG,EAAE,OAAOC,QAAQ;;EAEzB;EACA,IAAID,GAAG,CAACK,QAAQ,EAAE;IAChB,MAAMC,IAAI,GAAGN,GAAG,CAACK,QAAQ,CAACC,IAAI;IAC9B,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAE,OAAOA,IAAI;IACzC,IAAIA,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEC,OAAO,IAAI,OAAOD,IAAI,CAACC,OAAO,KAAK,QAAQ,EAAE,OAAOD,IAAI,CAACC,OAAO;IAC1E,IAAIC,KAAK,CAACC,OAAO,CAACH,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEC,OAAO,CAAC,EAAE,OAAOD,IAAI,CAACC,OAAO,CAACG,IAAI,CAAC,KAAK,CAAC;IACjE;IACA,IAAIJ,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEK,KAAK,IAAI,OAAOL,IAAI,CAACK,KAAK,KAAK,QAAQ,EAAE,UAAAC,MAAA,CAAUN,IAAI,CAACK,KAAK;IACvE,IAAI;MAAE,OAAOE,IAAI,CAACC,SAAS,CAACR,IAAI,CAAC;IAAE,CAAC,CAAC,OAAAS,OAAA,EAAM;MAAE,OAAOd,QAAQ;IAAE;EAChE;;EAEA;EACA,IAAID,GAAG,CAACO,OAAO,EAAE,OAAOP,GAAG,CAACO,OAAO;;EAEnC;EACA,IAAI,OAAOP,GAAG,KAAK,QAAQ,EAAE,OAAOA,GAAG;EAEvC,IAAI;IAAE,OAAOa,IAAI,CAACC,SAAS,CAACd,GAAG,CAAC;EAAE,CAAC,CAAC,OAAAgB,QAAA,EAAM;IAAE,OAAOf,QAAQ;EAAE;AAC/D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}